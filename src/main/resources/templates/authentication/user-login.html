<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/general :: head}"></head>

<body>

<header th:insert="~{fragments/navbar :: guest-ul}"></header>

<main>
    <form class="mx-auto w-25" th:method="post" th:action="@{/users/login}"
          th:object="${userLogin}">

        <div class="form-group">
            <label for="username" th:text="#{user.username}"></label>
            <input type="text" class="form-control"
                   th:field="*{username}" th:value="${userLogin.username}"
                   id="username" th:placeholder="#{enter.name}" name="username">
        </div>

        <div class="form-group" th:classappend="${#fields.hasErrors('password')} ? 'text-danger'">
            <label for="password" th:text="#{user.password}"></label>
            <input type="password" class="form-control"
                   th:field="*{password}" th:value="${userLogin.password}"
                   id="password" th:placeholder="#{enter.password}" name="password">
        </div>

        <div class="button-holder mt-4 d-flex justify-content-center">
            <button type="submit" class="btn btn-info">Login</button>
        </div>

        <th:block th:if="${session.SPRING_SECURITY_LAST_EXCEPTION!=null}">
            <div class="text-center mt-3" style="color: red; font-size: 20px;font-weight: bold"
                 th:text="${session.SPRING_SECURITY_LAST_EXCEPTION.message}">
                <!--Bad Credentials-->
            </div>
        </th:block>
    </form>
</main>

<footer th:replace="~{fragments/general :: footer}"></footer>

</body>
</html>