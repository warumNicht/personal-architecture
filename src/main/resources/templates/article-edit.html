<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/general :: head}"></head>

<body>

<header th:insert="~{fragments/navbar :: guest-ul}"></header>

<main class="container-fluid">

    <div class="article-container" th:with="locale=${@localeService.getLocale()}">
        <div class="article-centered" th:object="${articleEdit}">
            <div>
                <p th:text="|ArticleId: ${articleEdit.id}|"></p>
            </div>
            <div>
                <img th:src="@{${articleEdit.mainImage != null ? articleEdit.mainImage.url : '/images/default.jpg'}}" alt="">
            </div>
            <div>
                <div th:each="local : ${articleEdit.localContent}">
                    <p th:text="${local.key}"></p>
                    <p th:text="${local.value.title}"></p>
                    <p th:text="${local.value.content}"></p>
                    <a class="btn btn-success" th:href="@{|/${locale}/admin/articles/edit/${articleEdit.id}/${local.key}|}">Alternative
                        edit</a>
                    <a class="btn btn-success"
                       th:href="@{'/'+ ${locale} + '/admin/articles/edit/{id}/{lang}'(lang=${local.key},id=${articleEdit.id})}"
                       th:text="|#{edit} ${local.key}|"></a>
                </div>
            </div>
            <a class="btn btn-info" th:href="@{|/${locale}/admin/articles/addLang/${articleEdit.id}|}"
               th:text="#{add.lang}"></a>
            <a class="btn btn-info" th:href="@{|/${locale}/admin/articles/add-image/${articleEdit.id}|}"
               th:text="#{add.image}"></a>
            <a class="btn btn-info" id="show-hide-images" onclick="showImages()">View images</a>
        </div>
        <div id="image-container"></div>
    </div>

</main>

<footer th:replace="~{fragments/general :: footer}"></footer>

<script type="module" th:src="@{/js/article-edit.js}"></script>

</body>
</html>