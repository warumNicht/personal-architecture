<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{fragments/general :: head}"></head>

<body>

<header th:insert="~{fragments/navbar :: guest-ul}"></header>

<main class="container-fluid">

    <div class="article-container" th:with="locale=${@localeService.getLocale()}">
        <div class="article-centered" th:each="article: ${allArticles}">
            <div>
                <p th:text="|ArticleId: ${article.id} Created: ${article.date}|"></p>
            </div>
            <div>
                <img th:src="@{${article.mainImage != null ? article.mainImage.url : '/images/default.jpg'}}" alt="">
            </div>
            <div>
                <div th:each="local : ${article.localContent}">
                    <p th:text="${local.key}"></p>
                    <p th:text="${local.value.title}"></p>
                    <p th:text="${local.value.content}"></p>
                    <a class="btn btn-success" th:href="@{|/${locale}/admin/articles/edit/${article.id}/${local.key}|}">Alternative
                        edit</a>
                    <a class="btn btn-success"
                       th:href="@{'/'+ ${locale} + '/admin/articles/edit/{id}/{lang}'(lang=${local.key},id=${article.id})}"
                       th:text="|#{edit} ${local.key}|"></a>
                </div>
            </div>
            <a class="btn btn-info" th:href="@{|/${locale}/admin/articles/addLang/${article.id}|}"
               th:text="#{add.lang}"></a>
            <a class="btn btn-info" th:href="@{|/${locale}/admin/articles/add-image/${article.id}|}"
               th:text="#{add.image}"></a>
        </div>
    </div>

</main>

<footer th:replace="~{fragments/general :: footer}"></footer>

</body>
</html>